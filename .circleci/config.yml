version: 2
jobs:
  build:
    docker: # use the docker executor type; machine and macos executors are also supported
     - image: google/dart:2.0.0
    steps:
      - checkout # check out the code in the project directory
      - restore_cache:
          keys:
            - node-selenium-npm-{{ checksum "package-lock.json" }}
      
      - run:
          name: test
          command: >
            apt-get update &&
            apt-get install -y xvfb &&
            Xvfb :99 -screen 0 1280x1024x24 &
            cd $HOME/project &&
            npm i parcel-bundler -D &&
            npm test